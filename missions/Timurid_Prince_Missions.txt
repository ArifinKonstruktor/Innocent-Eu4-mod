Timurid_princes_missions_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		dynasty = "Timurid"
		NOT = { tag = TIM }
	}
	has_country_shield = yes
	
	Timurid_prince_power_strugle = {
		icon = mission_empire
		required_missions = { }
		position = 1
		trigger = {
			TIM = {
				NOT = { has_country_modifier = shahrukhs_empire }
			}
		}
		effect = {
			set_country_flag = ME_can_use_timurid_legitimacy
			custom_tooltip = ME_ALLOW_POWER_STRUGLE.tooltip
			add_country_modifier = {
				name = ME_yearly_timurid_legitimacy 
				duration = -1
				hidden = yes
			}
			set_variable = { timurid_legitimacy_value = 0 }
		}
	}
	
	Timurid_prince_expand_the_state = {
		icon = mission_empire
		required_missions = { Timurid_prince_power_strugle }
		position = 3
		trigger = {
			grown_by_development = 75
		}
		effect = {
			add_prestige = 10
			add_splendor = 50
		}
	}
	
	Timurid_prince_claim_the_empire = {
		icon = mission_empire
		required_missions = { 
			Timurid_prince_expand_the_state
			Timurid_grand_ruler}
		position = 4
		trigger = {
			check_variable = { timurid_legitimacy_value = 50 }
		}
		effect = {
			set_country_flag = ME_ALLOW_FORMATION_OF_TIMURIDS
			custom_tooltip = ALLOW_FORMATION_OF_TIMURIDS.tooltip
		}
	}
}

Timurid_princes_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		dynasty = "Timurid"
		NOT = { tag = TIM }
	}
	has_country_shield = yes
	
	Timurid_support_within_the_people = {
		icon = mission_empire
		required_missions = {
			Timurid_prince_power_strugle
			Timurid_heir_of_timur
		}
		position = 2
		trigger = {
			all_owned_province = { 
				NOT = { unrest = 0.01 }
			}
			OR = {
				dip = 3
				calc_true_if = {
					any_country = {
						dynasty = "Timurid"
						alliance_with = ROOT
					}
					amount = 2
				}
			}
		}
		effect = {
			change_variable = { timurid_legitimacy_value = 5 }
		}
	}
	
	Timurid_grand_ruler = {
		icon = mission_empire
		required_missions = {
			Timurid_support_within_the_people
		}
		position = 3
		trigger = {
			OR = {
				total_development = 400
				AND = {
					adm = 4
					dip = 4
					mil = 4
				}
			}
		}
		effect = {
			add_prestige = 20
			change_variable = { timurid_legitimacy_value = 10 }
		}
	}
}

Timurid_princes_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		dynasty = "Timurid"
		NOT = { tag = TIM }
	}
	has_country_shield = yes
	
	Timurid_heir_of_timur = {
		icon = mission_empire
		required_missions = { }
		position = 1
		trigger = {
			TIM = {
				NOT = { has_country_modifier = shahrukhs_empire }
			}
			army_size_percentage = 1
		}
		effect = {
			add_country_modifier = {
				name = ME_heir_of_timur
				duration = 7300
			}
		}
	}
	
	Timurid_stronger_than_our_competitors = {
		icon = mission_empire
		required_missions = { Timurid_heir_of_timur }
		position = 3
		trigger = {
			always = no
				
		}
		effect = {
			if = {
				limit = {
					mission_completed = Timurid_prince_power_strugle
				}
				change_variable = { timurid_legitimacy_value = 5 }
			}
			add_prestige = 20
			add_legitimacy = 10
		}
	}
	
	Timurid_ruler_of_our_region = {
		icon = mission_empire
		required_missions = { 
			Timurid_stronger_than_our_competitors
			Timurid_grand_ruler
			Timurid_ruler_of_our_region
		}
		position = 4
		trigger = {
			capital_scope = {
				region_for_scope_province = {
					type = all
					owned_by = ROOT
				}
			}
		}
		effect = {
			add_ruler_modifier = {
				name = ME_uncontested_ruler
				duration = -1
			}
		}
	}
}

Timurid_princes_missions_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		dynasty = "Timurid"
		NOT = { tag = TIM }
	}
	has_country_shield = yes
	
	Timurid_pacify_the_persian_people = {
		icon = mission_empire
		required_missions = { 
			Timurid_follow_seljuk_architecture
			Timurid_heir_of_timur
		}
		position = 2
		trigger = {
			OR = {
				calc_true_if = {
					accepted_culture = persian
					accepted_culture = luri
					accepted_culture = azerbaijani
					accepted_culture = khorasani
					accepted_culture = baluchi
					accepted_culture = afghani
					accepted_culture = kurdish
					accepted_culture = mazandarani
					amount = 5
				}
				government_rank = 3
				dominant_culture = uzbehk
			}
		}
		effect = {
			add_country_modifier = {
				name = ME_pacified_the_persians
				duration = -1
			}
		}
	}
	
	Timurid_heal_the_persian_religious_turmoil = {
		icon = mission_empire
		required_missions = { 
			Timurid_pacify_the_persian_people
		}
		position = 2
		trigger = {
			OR = {
				full_idea_group = humanist_ideas
				AND = {
					religious_unity = 1
					is_year = 1480
				}
				AND = {
					persia_region = {
						type = all
						religion = ROOT
					}
					khorasan_region = {
						type = all
						religion = ROOT
					}
				}
			}
		}
		effect = {
			add_ruler_modifier = {
				name = ME_healed_religious_turmoil
				duration = 7300
			}
		}
	}
}

Timurid_princes_missions_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		dynasty = "Timurid"
		NOT = { tag = TIM }
	}
	has_country_shield = yes
	
	
	Timurid_follow_seljuk_architecture = {
		icon = mission_empire
		required_missions = { }
		position = 1
		trigger = {
			OR = {
				temple = 10
				cathedral = 10
			}
			calc_true_if = {
				all_province = {
					development = 30
				}
				amount = 5
			}
		}
		effect = {
			add_country_modifier = {
				name = ME_seljuk_architecture
				duration = 10950
			}
		}
	}
	
	Timurid_pinnacle_of_islamic_art = {
		icon = mission_empire
		required_missions = { Timurid_follow_seljuk_architecture }
		position = 3
		trigger = {
			OR = {
				piety = 0.7
				NOT = { piety = -0.7 }
			}
			prestige = 60
			has_institution = renaissance
		}
		effect = {
			add_country_modifier = {
				name = ME_pinnacle_of_islamic_art
				duration = 9125
			}
		}
	}
	
	Timurid_restore_persia_and_khorasan_areas = {
		icon = mission_empire
		required_missions = { 
			Timurid_pinnacle_of_islamic_art
			Timurid_heal_the_persian_religious_turmoil
		}
		position = 4
		trigger = {
			persia_region = {
				type = all
				owned_by = ROOT
				NOT = { unrest = 2 }
			}
			khorasan_region = {
				type = all
				owned_by = ROOT
				NOT = { unrest = 2 }
			}
		}
		effect = {
			custom_tooltip = ALLOW_PERSIAN_REGION_RESTORATION_EVENTS.tooltip
			set_country_flag = allow_persian_restoration
			add_country_modifier = {
				name = allow_persian_restoration_for_20_years
				duration = 7300
				hidden = yes
			}
		}
	}
}