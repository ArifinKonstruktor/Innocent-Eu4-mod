denmark_missions_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = DAN
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	dan_pirate_king = {
		icon = reform_bergordnung
		required_missions = { }
		position = 2
		provinces_to_highlight = {
			owned_by = ROOT
			controlled_by = REB
		}
		trigger = {
			NOT = { num_of_rebel_controlled_provinces = 1 }
			NOT = { num_of_rebel_armies = 1 }
		}
		effect = {
			add_dip_power = 100
			country_event = {
				id = ME_Denmark_Events.1
			}
			add_country_modifier = {
				name = dan_confiscated_pirate_ships
				duration = 7300
			}
		}
	}

	dan_danish_royal_navy = {
		icon = reform_bergordnung
		required_missions = { dan_pirate_king }
		position = 4
		trigger = {
			navy_size = 30
			navy_size_percentage = 0.90
		}
		effect = {
			add_navy_tradition = 20
			country_event = {
				id = ME_Denmark_Events.2
			}
			estonia_ingria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			livonia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			curonia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_terra_mariana = {
		icon = reform_bergordnung
		required_missions = {
			dan_danish_royal_navy
			dan_reclaim_garda
		}
		position = 6
		provinces_to_highlight = {
			OR = {
				area = estonia_ingria_area
				area = livonia_area
				area = curonia_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			estonia_ingria_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			livonia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			curonia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_army_tradition = 10
			estonia_ingria_area = {
				add_nationalism = -5
			}
			livonia_area = {
				add_nationalism = -5
			}
			curonia_area = {
				add_nationalism = -5
			}
			east_prussia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			west_prussia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_southern_ports = {
		icon = reform_bergordnung
		required_missions = {
			dan_terra_mariana
		}
		position = 8
		provinces_to_highlight = {
			OR = {
				area = east_prussia_area
				area = west_prussia_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			east_prussia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			west_prussia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = dan_dominium_maris_baltici
				duration = -1
			}
		}
	}

	dan_helping_hand = {
		icon = reform_bergordnung
		required_missions = { }
		position = 10
		trigger = {
			POR = {
				has_opinion = {
					who = ROOT
					value = 100
				}
			}
			prestige = 20
			adm_tech = 5
		}
		effect = {
			add_dip_power = 100
			country_event = {
				id = ME_Denmark_Events.3
			}
		}
	}

	dan_mysteries_greenland = {
		icon = reform_bergordnung
		required_missions = { dan_helping_hand }
		position = 12
		provinces_to_highlight = {
			area = greenland_area
			NOT = { has_discovered = ROOT }
		}
		trigger = {
			greenland_area = {
				type = all
				has_discovered = ROOT
			}
			treasury = 200
		}
		effect = {
			country_event = {
				id = ME_Denmark_Events.5
			}
			newfoundland_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			hidden_effect = {
				if = {
					limit = {
						greenland_area = {
							NOT = { country_or_non_sovereign_subject_holds = ROOT }
						}
					}
					owner = {
						country_event = {
							id = ME_Denmark_Events.6
						}
					}
				}
			}
		}
	}

	dan_vinland_saga = {
		icon = reform_bergordnung
		required_missions = { dan_mysteries_greenland }
		position = 14
		provinces_to_highlight = {
			area = newfoundland_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			newfoundland_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = dan_the_legend_was_true
				duration = 18250
			}
			leeward_islands_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_danish_west_indies = {
		icon = reform_bergordnung
		required_missions = { dan_vinland_saga }
		position = 16
		provinces_to_highlight = {
			area = leeward_islands_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			leeward_islands_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			country_event = {
				id = ME_Denmark_Events.8
			}
			bengal_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_dannemarksnagore = {
		icon = reform_bergordnung
		required_missions = { dan_danish_west_indies }
		position = 18
		provinces_to_highlight = {
			region = bengal_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			bengal_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			bengal_region = {
				add_province_modifier = {
					name = dan_riches_india
					duration = -1
				}
			}
		}
	}
}

denmark_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = DAN
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	dan_eastern_baltic = {
		icon = reform_bergordnung
		required_missions = { dan_pirate_king }
		position = 3
		provinces_to_highlight = {
			province_id = 30
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
				NOT = { has_trade_building_trigger = yes }
				NOT = { base_production = 5 }
			}
		}
		trigger = {
			1926 = { has_merchant = ROOT }
			30 = {
				country_or_non_sovereign_subject_holds = ROOT
				has_trade_building_trigger = yes
				base_production = 5
			}
		}
		effect = {
			33 = {
				add_trade_modifier = {
					who = ROOT
					duration = 10950
					power = 10
					key = dan_creeping_towards_novgorod
				}
			}
			laponia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			pomor_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			karelia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			north_karelia = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_reclaim_garda = {
		icon = reform_bergordnung
		required_missions = {
			dan_danish_royal_navy
			dan_eastern_baltic
		}
		position = 5
		provinces_to_highlight = {
			OR = {
				area = laponia_area
				area = pomor_area
				area = karelia_area
				area = north_karelia
			}
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
		}
		trigger = {
			laponia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			pomor_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			karelia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			north_karelia = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			laponia_area = {
				add_province_modifier = {
					name = dan_eastern_buffer_zone
					duration = -1
				}
			}
			pomor_area = {
				add_province_modifier = {
					name = dan_eastern_buffer_zone
					duration = -1
				}
			}
			karelia_area = {
				add_province_modifier = {
					name = dan_eastern_buffer_zone
					duration = -1
				}
			}
			north_karelia = {
				add_province_modifier = {
					name = dan_eastern_buffer_zone
					duration = -1
				}
			}
			arkhangelsk_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			beloozero_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			novgorod_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_end_republic = {
		icon = reform_bergordnung
		required_missions = {
			dan_reclaim_garda
		}
		position = 7
		provinces_to_highlight = {
			OR = {
				area = arkhangelsk_area
				area = beloozero_area
				area = novgorod_area
			}
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
		}
		trigger = {
			arkhangelsk_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			beloozero_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			novgorod_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = dan_secured_novgorodian_Trade
				duration = 10950
			}
			pskov_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tver_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			yaroslavl_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			vladimir_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			moscow_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_rising_power = {
		icon = reform_bergordnung
		required_missions = {
			dan_end_republic
		}
		position = 9
		provinces_to_highlight = {
			OR = {
				area = pskov_area
				area = tver_area
				area = yaroslavl_area
				area = vladimir_area
				area = moscow_area
			}
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
		}
		trigger = {
			pskov_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			tver_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			yaroslavl_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			vladimir_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			moscow_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = dan_downfall_russian_bear
				duration = 10950
			}
		}
	}

	dan_oresundstold = {
		icon = reform_bergordnung
		required_missions = { }
		position = 11
		provinces_to_highlight = {
			province_id = 12
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { has_trade_building_trigger = yes }
				NOT = { base_production = 10 }
			}
		}
		trigger = {
			12 = {
				owned_by = ROOT
				has_trade_building_trigger = yes
				base_production = 10
			}
		}
		effect = {
			12 = {
				remove_province_modifier = sound_toll
				add_province_modifier = {
					name = dan_new_sound_tool_dues
					duration = -1
				}
			}
			country_event = {
				id = ME_Denmark_Events.9
			}
		}
	}

	dan_fish_market_lund = {
		icon = reform_bergordnung
		required_missions = { dan_oresundstold }
		position = 13
		provinces_to_highlight = {
			province_id = 6
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { has_trade_building_trigger = yes }
				NOT = { has_production_building_trigger = yes }
				NOT = { num_of_times_improved = 5 }
			}
		}
		trigger = {
			6 = {
				owned_by = ROOT
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				num_of_times_improved = 5
			}
		}
		effect = {
			6 = {
				add_province_modifier = {
					name = dan_great_fish_market
					duration = -1
				}
			}
			country_event = {
				id = ME_Denmark_Events.10
			}
		}
	}

	dan_monopolize_lubek = {
		icon = reform_bergordnung
		required_missions = { dan_fish_market_lund }
		position = 15
		trigger = {
			45 = {
				is_strongest_trade_power = ROOT
			}
			any_country = {
				NOT = {
					45 = {
						trade_share = {
							country = PREV
							share = 10
						}
					}
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = dan_owners_lubek
				duration = 18250
			}
		}
	}

	dan_commerce_channel = {
		icon = reform_bergordnung
		required_missions = { dan_monopolize_lubek }
		position = 17
		trigger = {
			1269 = { is_strongest_trade_power = ROOT }
		}
		effect = {
			add_country_modifier = {
				name = dan_maria_dominium
				duration = -1
			}
		}
	}
}

denmark_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = DAN
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	dan_holdings_germany = {
		icon = reform_bergordnung
		required_missions = { }
		position = 1
		trigger = {
			OR = {
				AND = {
					overlord_of = HOL
					is_year = 1459
				}
				AND = {
					NOT = { exists = SHL}
					owns_core_province = 13
					owns_core_province = 1775
				}
				SHL= {
					NOT = { is_vassal = yes }
					owns_core_province = 1775
				}
			}
		}
		effect = {
			custom_tooltip = dan_holdings_germany_TT
			holstein_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			if = {
				limit = {
					exists = UBV
				}
				add_casus_belli = {
					type = cb_restore_personal_union
					target = UBV
				}
			}
			if = {
				limit = {
					exists = LBV
				}
				add_casus_belli = {
					type = cb_restore_personal_union
					target = LBV
				}
			}
			if = {
				limit = {
					exists = ING
				}
				add_casus_belli = {
					type = cb_restore_personal_union
					target = ING
				}
			}
			hidden_effect = {
				if = {
					limit = {
						overlord_of = HOL
						is_year = 1459
					}
					country_event = {
						id = flavor_dan.4
					}
				}
				if = {
					limit = {
						NOT = { exists = SHL}
						owns_core_province = 13
						owns_core_province = 1775
					}
					add_country_modifier = {
						name = dan_holstein_integrated
						duration = 10250
					}
				}
				if = {
					limit = {
						SHL= {
							NOT = { is_vassal = yes }
							owns_core_province = 1775
						}
					}
				}
			}
		}
	}

	dan_german_connections = {
		icon = mercenary_companies
		required_missions = { dan_holdings_germany }
		position = 2
		trigger = {
			calc_true_if = {
				amount = 2
				all_country = {
					has_opinion = {
						who = ROOT
						value = 150
					}
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = dan_german_mercenaries
				duration = 7300
			}
			custom_tooltip = dan_german_connections_TT
			if = {
				limit = { exists = BAV }
				add_casus_belli = {
					type = cb_restore_personal_union
					target = BAV
				}
			}
			east_bavaria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lower_bavaria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			upper_bavaria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	dan_tri_crowns_bavaria = {
		icon = unite_the_wittelsbachs
		required_missions = {
			dan_german_connections
			dam_wittelsbachs_denmark
		}
		position = 4
		trigger = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = dan_tri_crowns_bavaria_trigger_TT
					if = {
						limit = {
							exists = UBV
						}
						overlord_of = UBV
					}
					if = {
						limit = {
							exists = LBV
						}
						overlord_of = LBV
					}
					if = {
						limit = {
							exists = ING
						}
						overlord_of = ING
					}
				}
				overlord_of = BAV
				AND = {
					east_bavaria_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					lower_bavaria_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					upper_bavaria_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}
		effect = {
			if = {
				limit = {
					exists = PAL
				}
				add_casus_belli = {
					type = cb_restore_personal_union
					target = PAL
				}
			}
			custom_tooltip = dan_tri_crowns_bavaria_TT
			hidden_effect = {
				if = {
					limit = {
						overlord_of = BAV
					}
					add_country_modifier = {
						name = dan_bavarian_branch
						duration = 10950
					}
				}
				if = {
					limit = {
						OR = {
							overlord_of = UBV
							overlord_of = LBV
							overlord_of = ING
						}
					}
					country_event = {
						id = ME_Denmark_Events.11
					}
				}
				if = {
					limit = {
						east_bavaria_area = {
							type = all
							country_or_non_sovereign_subject_holds = ROOT
						}
						lower_bavaria_area = {
							type = all
							country_or_non_sovereign_subject_holds = ROOT
						}
						upper_bavaria_area = {
							type = all
							country_or_non_sovereign_subject_holds = ROOT
						}
					}
					east_bavaria_area = {
						add_province_modifier = {
							name = dan_danish_bavarian_unity
							duration = 7300
						}
					}
					lower_bavaria_area = {
						add_province_modifier = {
							name = dan_danish_bavarian_unity
							duration = 7300
						}
					}
					upper_bavaria_area = {
						add_province_modifier = {
							name = dan_danish_bavarian_unity
							duration = 7300
						}
					}
				}
			}
		}
	}

	dan_alpha_wittelsbach = {
		icon = king_of_kings
		required_missions = { dan_tri_crowns_bavaria }
		position = 6
		provinces_to_highlight = {
			OR = {
				area = palatinate_area
				province_id = 1757
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			OR = {
				overlord_of = PAL
				AND = {
					palatinate_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					1757 = { country_or_non_sovereign_subject_holds = ROOT }
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = dan_united_wittelsbachs
				duration = 14600
			}
		}
	}

	dan_spread_wittelsbach = {
		icon = secure_our_rule
		required_missions = { dan_alpha_wittelsbach }
		position = 8
		trigger = {
			OR = {
				calc_true_if = {
					amount = 3
					all_country = {
						has_opinion = {
							who = ROOT
							value = 120
						}
					}
					OR = {
						vassal_of = ROOT
						dynasty = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = emp_hab_spread_dynasties_trigger_tooltip
					any_country = {
						dynasty = ROOT
						any_owned_province = { continent = europe }
					}
					any_country = {
						dynasty = ROOT
						any_owned_province = { continent = asia }
					}
					any_country = {
						dynasty = ROOT
						any_owned_province = { continent = africa }
					}
					any_country = {
						dynasty = ROOT
						any_owned_province = { continent = north_america }
					}
					any_country = {
						dynasty = ROOT
						any_owned_province = { continent = south_america }
					}
					any_country = {
						dynasty = ROOT
						any_owned_province = { continent = oceania }
					}
					any_country = {
						dynasty = ROOT
						any_owned_province = { continent = island_check_provinces }
					}
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = dan_widespread_dynasty
				duration = 18250
			}
		}
	}
}

denmark_missions_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = DAN
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
}

denmark_missions_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = DAN
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
}