bohemia_missions_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = BOH
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes

	boh_an_unlikely_messiah = {
		icon = mission_have_two_subjects
		position = 2
		required_missions = { boh_future_bohemia }
		trigger = {
			custom_trigger_tooltip = {
				tooltip = hussites_have_resurfaced_tt
				has_country_flag = first_hussite_king
			}
			OR = {
				religion = catholic
				religion = hussite
			}
		}
		effect = {
			add_country_modifier = {
				name = boh_start_inquisition
				duration = 7300
			}
		}
	}

	boh_purity_of_faith = {
		icon = mission_have_two_subjects
		position = 3
		required_missions = { boh_an_unlikely_messiah }
		provinces_to_highlight = {
			owned_by = ROOT
			NOT = { religion = ROOT }
		}
		trigger = {
			all_owned_province = {
				religion = ROOT
				has_owner_religion = yes
			}
		}
		effect = {
			add_country_modifier = {
				name = boh_united_faith
				duration = 10950
			}
			if = {
				limit = {
					BOH = { religion = hussite }
				}
				add_faction = boh_hussite_taborite
				add_faction = boh_hussite_ultraquist
			}
		}
	}

	boh_spread_news = {
		icon = mission_have_two_subjects
		position = 4
		required_missions = { boh_purity_of_faith }
		trigger = {
			custom_trigger_tooltip = { 
				tooltip = converted_nation_tt
				has_country_flag = force_converted
			}
			if = {
				limit = { religion = catholic }
				is_papal_controller = yes
			}
			else_if = {
				limit = { 
					OR = {
						religion = hussite
						religion = protestant
					}
				}
				num_of_aspects = 3
			}
			else_if = {
				limit = { religion = reformed }
				has_active_fervor = yes
			}
		}
		effect = {
			if = {
				limit = {
					is_papal_controller = yes 
				}
				add_country_modifier = {
					name = boh_back_papal_fold
					duration = 10950
				}
			}
			else_if = {
				limit = {
					religion = hussite
					faction_in_power = taborite 
					num_of_aspects = 3 
				}
				add_country_modifier = {
					name = boh_czech_fervor
					duration = 10950
				}
			}
			else_if = {
				limit = {
					religion = hussite
					faction_in_power = ultraquist 
					num_of_aspects = 3 
				}
				add_country_modifier = {
					name = boh_moderate_hussitism
					duration = 10950
				}
			}
			else_if = {
				limit = {
					OR = {
						has_active_fervor = yes 
						num_of_aspects = 3 
					}
				}
				add_estate_loyalty_modifier = {
    				estate = estate_church
					desc = boh_evangelist_bohemia_estate_loyalty_modifier
    				loyalty = 10
    				duration = 10950
				}
				add_estate_influence_modifier = {
    				estate = estate_church
					desc = boh_evangelist_bohemia_estate_influence_modifier
    				influence = 10
    				duration = 10950
				}
			}
		}
	}

	boh_apostles_of_faith = {
		icon = mission_have_two_subjects
		position = 6
		required_missions = { boh_spread_news }
		trigger = {
			if = {
				limit = {
					has_dlc = "Art of War"
				}
				OR = {
					AND = {
						hre_leagues_enabled = yes
						OR = {
							is_emperor = yes
							emperor = {
								is_in_league_war = yes
							}
						}
					}
					in_league = protestant
					in_league = catholic
					hre_religion_treaty = yes
					hre_religion_locked = yes
					AND = {
						NOT = { hre_size = 1 }
						religious_unity = 1
					}
				}
			}
			else = {
				OR = {
					AND = {
						NOT = { hre_size = 1 }
						religious_unity = 1
					}
					has_country_flag = catholic_league
					has_country_flag = evangelical_union
					AND = {
						OR = {
							current_age = age_of_absolutism
							current_age = age_of_revolutions
						}
						OR = {
							is_emperor = yes
							has_won_war_against = {
								who = emperor
								max_years_since = 5
							}
							AND = {
								alliance_with = emperor
								OR = {
									any_elector = {
										is_subject_of = ROOT
									}
									any_elector = {
										ROOT = {
											has_won_war_against = {
												who = PREV
												max_years_since = 5
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		effect = {
			if = {
				limit = {
					has_dlc = "Art of War"
				}
				custom_tooltip = boh_czech_zealotry_tt
				hidden_effect = {
					if = {
						limit = {
							OR = {
								AND = {
									hre_leagues_enabled = yes
									is_emperor = yes
								}
								in_league = protestant
								in_league = catholic
							}
						}
						set_country_flag = boh_enable_czech_zealotry
					}
					if = {
						limit = {
							hre_religion_treaty = yes
						}
						add_country_modifier = {
							name = boh_eius_regio_cuius_religio
							duration = -1
						}
					}
					if = {
						limit = {
							OR = {
								emperor = {
									is_in_league_war = yes
								}
								hre_religion_locked = yes
							}
						}
						add_country_modifier = {
							name = boh_religious_neutrality
							duration = 7300
						}
					}
				}
				if = {
					limit = {
						NOT = { hre_size = 1 }
						religious_unity = 1
					}
					add_prestige = 10
				}
			}
			else = {
				custom_tooltip = boh_czech_zealotry_heretics_tt
				hidden_effect = {
					if = {
						limit = {
							OR = {
								has_country_flag = catholic_league
								has_country_flag = evangelical_union
							}
						}
						set_country_flag = boh_czech_zealotry_heretics
					}
					if = {
						limit = {
							AND = {
								OR = {
									current_age = age_of_absolutism
									current_age = age_of_revolutions
								}
								OR = {
									is_emperor = yes
									AND = {
										alliance_with = emperor
										OR = {
											any_elector = {
												is_subject_of = ROOT
											}
											any_elector = {
												ROOT = {
													has_won_war_against = {
														who = PREV
														max_years_since = 5
													}
												}
											}
										}
									}
								}
							}
						}
						add_country_modifier = {
							name = boh_imperial_europe
							duration = -1
						}
					}
					if = {
						limit = {
							AND = {
								OR = {
									current_age = age_of_absolutism
									current_age = age_of_revolutions
								}
								has_won_war_against = {
									who = emperor
									max_years_since = 5
								}
							}
						}
						add_country_modifier = {
							name = boh_defiant
							duration = 14600
						}
					}
					if = {
						limit = {
							NOT = { hre_size = 1 }
							religious_unity = 1
						}
						add_prestige = 10
					}
				}
			}
		}
	}
}

bohemia_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = BOH
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	
	boh_dispute_ore_mountains = {
		icon = mission_have_two_subjects
		position = 3
		required_missions = { boh_late_arrival }
		provinces_to_highlight = {
			OR = {
				owned_by = SAX
				owned_by = THU
			}
		}
		trigger = {
			if = {
				limit = {
					exists = SAX
				}
				SAX = {
					OR = {
						has_opinion_modifier = {
    						who = ROOT
   							modifier = insulted
						}
						has_opinion_modifier = {
    						who = ROOT
    						modifier = scornfully_insulted
						}
					}
				}
				power_projection = 40
				prestige = SAX 
				army_strength = {
					who = SAX
					value = 2.25
				}
			}
			else = {
				prestige = 90
				legitimacy_equivalent = 100
			}
		}
		effect = {
			if = {
				limit = {
					61 = {
						owned_by = SAX
					}
					4744 = {
						owned_by = SAX
					}
					2965 = {
						country_or_non_sovereign_subject_holds = SAX
					}
				}
				custom_tooltip = ore_mountain_cb_tt
				hidden_effect = {
					add_casus_belli = {
    					target = SAX
    					type = cb_ore_dispute
    					months = -1
					}
				}
			}
			else = {
				south_saxony_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				thuringia_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}

	boh_better_our_hands = {
		icon = mission_have_two_subjects
		position = 5
		required_missions = { boh_dispute_ore_mountains }
		provinces_to_highlight = {
			OR = {
				province_id = 2965
				province_id = 4744
				province_id = 61
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			2965 = { country_or_non_sovereign_subject_holds = ROOT }
			4744 = { country_or_non_sovereign_subject_holds = ROOT }
			61 = { country_or_non_sovereign_subject_holds = ROOT }
		}
		effect = {
			country_event = {
				id = ME_Bohemia_Events.1
			}
			add_country_modifier = {
				name = boh_resolved_ore_mountains
				duration = 3560
			}
			if = {
				limit = {
					has_country_flag = boh_podebrad
				}
				northern_saxony_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				braunschweig_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}
}

bohemia_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
        tag = BOH
        has_country_flag = use_missions_expanded_missions_instead_of_paradox
    }

	boh_future_bohemia = {
		icon = mission_have_two_subjects
		required_missions = { }
		position = 1
		provinces_to_highlight = {
			owned_by = ROOT
			NOT = { religion = ROOT }
		}
		trigger = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = hussite_faction_resurged_tt
					has_country_flag = first_hussite_king
				}
				all_owned_province = { religion = ROOT }
			}
		}
		effect = {
			custom_tooltip = dynasty_ascends_tt
			country_event = {
				id = ME_Bohemia_Event.2
			}
			add_country_modifier = {
				name = boh_our_own_dynasty
				duration = -1
			}
		}
	}

	boh_late_arrival = {
		icon = mission_alliances
		required_missions = { boh_future_bohemia }
		position = 2
		trigger = {
			has_institution = renaissance
			num_of_owned_provinces_with = {
				value = 3
				has_trade_building_trigger = yes
			}
			num_of_owned_provinces_with = {
				value = 3
				has_tax_building_trigger = yes
			}
		}
		effect = {
			add_country_modifier = {
				name = boh_late_then_never
				duration = 7300
			}
		}
	}

	boh_rising_dynasty = {
		icon = mission_alliances
		required_missions = { boh_late_arrival }
		position = 4
		trigger = {
			if = {
				limit = {
					NOT = { has_country_flag = czech_habsburg }
					NOT = { has_country_flag = czech_jagiellon }
					NOT = { has_country_flag = czech_podebrad }
				}
				custom_trigger_tooltip = {
					tooltip = requirements_depending_on_dynasty_tt
					always = no	
				}
			}
			total_development = 300
			if = {
				limit = {
					has_country_flag = czech_habsburg
				}
				army_strength = {
					who = HAB
					value = 1
				}
			}
			else_if = {
				limit = {
					has_country_flag = czech_jagiellon
				}
				army_strength = {
					who = POL
					value = 1
				}
			}
			else_if = {
				limit = {
					has_country_flag = czech_podebrad
				}
				army_size = 40
			}
		}
		effect = {
			if = {
				limit = {
					exists = HAB
					HAB = { is_subject = no }
					has_country_flag = czech_habsburg
				}
				add_casus_belli = {
    				target = HAB
    				type = cb_restore_personal_union
    				months = -1
				}
				wielkopolska_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				central_poland_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			else_if = {
				limit = {
					has_country_flag = czech_habsburg
				}
				wielkopolska_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				central_poland_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				austria_proper_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				tirol_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				inner_austria_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			else_if = {
				limit = {
					exists = POL
					POL = { is_subject = no }
					has_country_flag = czech_jagiellon
				}
				add_casus_belli = {
    				target = POL
    				type = cb_restore_personal_union
    				months = -1
				}
				austria_proper_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
			else_if = {
				limit = {
					exists = PLC
					PLC = { is_subject = no }
					has_country_flag = czech_jagiellon
				}
				add_casus_belli = {
    				target = PLC
    				type = cb_restore_personal_union
    				months = -1
				}
				austria_proper_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}		
			}
			else_if = {
				limit = {
					has_country_flag = czech_jagiellon
				}
				wielkopolska_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				central_poland_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				malopolska_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				sandomierz_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				austria_proper_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}		
			}
			else_if = {
				limit = {
					has_country_flag = czech_jagiellon
				}
				wielkopolska_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				central_poland_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				malopolska_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				sandomierz_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				austria_proper_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}		
			}
			else = {
				wielkopolska_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				central_poland_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				austria_proper_area = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}

	boh_repo_kingdom = {
		icon = mission_alliances
		required_missions = { boh_rising_dynasty }
		position = 5
		provinces_to_highlight = {
			if = {
				limit = { has_country_flag = czech_jagiellon }
				area = wielkopolska_area
				area = central_poland_area
				area = malopolska_area
				area = sandomierz_area
				NOT = { country_or_non_sovereign_subject = ROOT }
			}
			else {
				area = wielkopolska_area
				area = central_poland_area
				NOT = { country_or_non_sovereign_subject = ROOT }
			}
		}		
		trigger = {
			if = {
				limit = {
					has_country_flag = czech_jagiellon
				}
				OR = {
					POL = {
						is_subject_of = ROOT
					}
					PLC = {
						is_subject_of = ROOT
					}
					AND = {
						wielkopolska_area = {
							type = all
							country_or_non_sovereign_subject_holds = ROOT
						}
						central_poland_area = {
							type = all
							country_or_non_sovereign_subject_holds = ROOT
						}
						malopolska_area = {
							type = all
							country_or_non_sovereign_subject_holds = ROOT
						}
						sandomierz_area = {
							type = all
							country_or_non_sovereign_subject_holds = ROOT
						}
					}
				}
			}
			else = {
				wielkopolska_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
				central_poland_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}
		effect = {
			if = {
				limit = {
					has_country_flag = czech_jagiellon
					POL = { is_subject_of = ROOT }
				}
				POL = { add_liberty_desire = -10 }
			}
			else_if = {
				limit = {
					has_country_flag = czech_jagiellon
					PLC = { is_subject_of = ROOT }
				}
				PLC = { add_liberty_desire = -20 }
			}
			else_if = {
				limit = {
					has_country_flag = czech_jagiellon
				}
				add_country_modifier = {
					name = boh_premsylid_heritage
					duration = 18250
				}
			}
			else = {
				add_country_modifier= {
					name = boh_premsylid_heritage2
					duration = 730
				}
			}
		}
	}
	
	boh_rise_lion = {
		icon = mission_alliances
		required_missions = { 
			boh_repo_kingdom
		}
		position = 6
		trigger = {
			prestige = 100
			legitimacy_equivalent = 100
			power_projection = 50
		}
		effect = {
			override_country_name = czech_empire
			set_country_flag = czech_empire
			set_government_rank = 3
			custom_tooltip = different_missions_czech_tt
			if = {
				limit = { 
					has_country_flag = czech_jagiellon
					LIT = {
						exists = yes
						is_subject = no
					}
				}
				add_casus_belli = {
    				target = LIT
    				type = cb_restore_personal_union
    				months = -1
				}
				else = {
					add_casus_belli = {
    					target = LIT
    					type = cb_border_dispute
    					months = -1
					}
				}
				else_if = {
					limit = { has_country_flag = czech_habsburg }
					custom_tooltip = boh_imperial_ambition_tt
					hidden_effect = {
						add_country_modifier = {
							name = boh_imperial_ambition
							duration = -1
						}
					}
				}
				else_if = {
					limit = { has_country_flag = czech_podebrad }
					custom_tooltip = boh_crusade_justice_tt
					set_country_flag = boh_enable_crusade_justice
				}
			}	
		}
	}
}