CYP_slot_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = CYP
	}
	has_country_shield = yes
	
	cyp_wooden_wall = {
		icon = mission_assemble_an_army
		required_missions = { cyp_kingdom_cyprus }
		position = 2
		trigger = {
			num_of_galley = 10
			num_of_admirals = 1
		}
		effect = {
			add_country_modifier = {
				name = cyp_wooden_wall
				duration = 7120
			}
			add_sailors = 500
		}
	}
	
	cyp_navy = {
		icon = mission_assemble_an_army
		required_missions = { cyp_greek_league }
		trigger = {
			navy_size_percentage = 1
			DIP = 5
			dip_power = 100
		}
		effect = {
			add_country_modifier = {
				name = cyprus_navy
				duration = -1
			}
			add_dip_power = -100
		}
	}
	
	cyp_army = {
		icon = mission_assemble_an_army
		required_missions = { cyp_navy }
		trigger = {
			army_size_percentage = 1
			MIL = 5
			mil_power = 100
		}
		effect = {
			add_country_modifier = {
				name = greek_army
				duration = -1
			}
			add_mil_power = -100
		}
	}
}

CYP_slot_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = CYP
	}
	has_country_shield = yes
	
	cyp_become_greek = {
		icon = mission_assemble_an_army
		required_missions = { cyp_defend }
		position = 2
		trigger = {
			accepted_culture = greek
			dip_power = 50
		}
		effect = {
			change_primary_culture = greek
			add_dip_power = -50
			320 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	cyp_take_rhodes = {
		icon = mission_conquer_5_states
		required_missions = { cyp_become_greek }
		provinces_to_highlight = {
			province_id = 320
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			320 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			163 = {
				if = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	cyp_crete = {
		icon = mission_conquer_5_states
		required_missions = { cyp_take_rhodes }
		provinces_to_highlight = {
			province_id = 163
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			163 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			aegean_archipelago_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	cyp_aegean = {
		icon = mission_conquer_5_states
		required_missions = { cyp_crete }
		provinces_to_highlight = {
			area = aegean_archipelago_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			aegean_archipelago_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			morea_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			northern_greece_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	cyp_mainland_greece = {
		icon = mission_unite_home_region
		required_missions = { cyp_aegean }
		provinces_to_highlight = {
			OR = {
				area = northern_greece_area
				area = morea_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			morea_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			northern_greece_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = greece_united
				duration = 7300
			}
		}
	}
}

CYP_slot_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = CYP
	}
	has_country_shield = yes
	
	cyp_kingdom_cyprus = {
		icon = mission_assemble_an_army
		required_missions = { }
		position = 1
		trigger = {
			OR = {
				OR = {
					army_size_percentage = 1
					navy_size_percentage = 1
				}
				reverse_has_opinion = {
					who = PAP
					value = 100
				}
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						army_size_percentage = 1
						navy_size_percentage = 1
					}
				}
				add_country_modifier = {
					name = cyp_reinstated_crusading_army
					duration = 7600
				}
				2302 = {
					if = {
						limit = {
							NOT = { 
								owned_by = ROOT 
							}
							NOT = { 
								is_core = ROOT 
							}
						}
						add_permanent_claim = ROOT
					}
				}
				327 = {
					if = {
						limit = {
							NOT = { 
								owned_by = ROOT 
							}
							NOT = { 
								is_core = ROOT 
							}
						}
						add_permanent_claim = ROOT
					}
				}
				
			}
			else_if = {
				limit = {
					reverse_has_opinion = {
						who = PAP
						value = 100
					}
				}
				country_event = { 
					id = ME_Cyprus_Events.1
				}
				320 = {
					if = {
						limit = {
							NOT = { 
								owned_by = ROOT 
							}
							NOT = { 
								is_core = ROOT 
							}
						}
						add_permanent_claim = ROOT
					}
				}
			}
		}
	}

	cyp_landing_anatolia = {
		icon = mission_assemble_an_army
		required_missions = { 
			cyp_kingdom_cyprus 
		}
		trigger = {
			OR = {
				2302 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
				327 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}
		effect = {
			if = {
				limit = {
					religion = catholic
				}
				add_papal_influence = 10
			}
			if = {
				limit = {
					religion = orthodox
				}
				add_patriarch_authority = 5
			}
			add_country_modifier = {
				name = cyp_heathen_persecution
				duration = 3650
			}
			2302 = {
				if = {
					limit = {
						owned_by = CYP
					}
					change_culture = ROOT
				}
			}
			327 = {
				if = {
					limit = {
						owned_by = CYP
					}
					change_culture = ROOT
				}
			}
		}
	}

	cyp_approve_crusade = {
		icon = mission_assemble_an_army
		required_missions = { cyp_last_crusade }
		trigger = {
			OR = {
				reverse_has_opinion = {
					who = PAP
					value = 80
				}
				AND = {
					NOT = { exists = PAP }
					is_papal_controller = yes
				}
			}
		}
		effect = {
			set_global_flag = deus_vult
			palestine_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	cyprus_palestine = {
		icon = mission_assemble_an_army
		required_missions = { cyp_approve_crusade }
		provinces_to_highlight = {
			area = palestine_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			palestine_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			aleppo_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	cyprus_antioch = {
		icon = mission_assemble_an_army
		required_missions = { cyprus_palestine }
		provinces_to_highlight = {
			area = aleppo_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			aleppo_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			syria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	cyprus_deus_vult = {
		icon = mission_conquer_50_development
		required_missions = { cyprus_antioch }
		provinces_to_highlight = {
			area = syria_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			syria_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = the_deus_vult
				duration = 7300
			}
		}
	}
}

CYP_slot_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = CYP
	}
	has_country_shield = yes
	
	cyp_knights_hospitallier = {
		icon = mission_assemble_an_army
		required_missions = { 
			cyp_kingdom_cyprus
		}
		position = 2
		trigger = {
			OR = {
				OR = {
					alliance_with = KNI
					reverse_has_opinion = {
						who = KNI
						value = 100
					}
					total_development = KNI
					KNI = {
						NOT = {
							is_at_war = yes
						}
					}
					KNI = {
						NOT = {
							is_subject = yes 
						}
					}
				}
				320 = {
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}
		effect = {
			if = {
				limit = {
					alliance_with = KNI
				}
				country_event = { 
					id = ME_Cyprus_Events.2
				} 
			}
			else_if = {
				320 = {
					owned_by = ROOT
				}
				add_country_modifier = {
					name = cyp_subdued_knights
					duration = -1
				}
			}
		}
	}

	cyp_crusading_navy = {
		icon = mission_assemble_an_army
		required_missions = { cyp_crusading_army }
		trigger = {
			navy_size_percentage = 1
			mil = 5
			dip_power = 100
		}
		effect = {
			add_country_modifier = {
				name = crusading_navy
				duration = -1
			}
		}
	}
}