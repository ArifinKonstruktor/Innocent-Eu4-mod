WES_missions_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = WES
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	WES_rhineland_proper = {
		icon = mission_eastern_european_city
		required_missions = { WES_westphalia }
		position = 6
		provinces_to_highlight = {
			OR = {
				area = north_rhine_area
				area = lower_rhineland_area
				area = palatinate_area
				area = hesse_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = north_rhine_area
					area = lower_rhineland_area
					area = palatinate_area
					area = hesse_area
				}
				value = 13
			}
		}
		effect = {
			alsace_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			upper_rhineland_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lower_swabia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			upper_swabia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			franconia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			upper_franconia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	WES_swabia = {
		icon = mission_eastern_european_city
		required_missions = { WES_rhineland_proper }
		position = 7
		provinces_to_highlight = {
			OR = {
				area = upper_rhineland_area
				area = alsace_area
				area = lower_swabia_area
				area = upper_swabia_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = upper_rhineland_area
					area = alsace_area
					area = lower_swabia_area
					area = upper_swabia_area
				}
				value = 10
			}
		}
		effect = {
			upper_bavaria_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_bavaria_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	WES_bavaria = {
		icon = mission_eastern_european_city
		required_missions = { WES_swabia WES_franconia }
		position = 8
		provinces_to_highlight = {
			OR = {
				area = upper_bavaria_area
				area = lower_bavaria_area
				area = east_bavaria_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = upper_bavaria_area
					area = lower_bavaria_area
					area = east_bavaria_area
				}
				value = 8
			}
		}
		effect = {
		}
	}
	
	WES_serfdom = {
		icon = prosperity_for_all
		required_missions = { WES_all_are_equal_before_law }
		position = 10
		trigger = {
			stability = 3
			crown_land_share = 40
		}
		effect = {
			country_event = { id = ME_Westphalian_Events.7 }
		}
	}
}

WES_missions_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = WES
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	WES_franconia = {
		icon = mission_eastern_european_city
		required_missions = { WES_rhineland_proper }
		position = 7
		provinces_to_highlight = {
			OR = {
				area = upper_franconia_area
				area = franconia_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = upper_franconia_area
					area = franconia_area
				}
				value = 5
			}
		}
		effect = {	
			lower_bavaria_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_bavaria_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	WES_all_are_equal_before_law = {
		icon = strengthen_the_vroedschappen
		required_missions = { WES_reform_the_state }
		position = 9
		trigger = {
			has_adm_advisor_3 = yes
			has_dip_advisor_3 = yes
			has_mil_advisor_3 = yes
			NOT = { corruption = 0.1 }
			if = {
				limit = {
					has_estate = estate_burghers
				}
				OR = {
					estate_loyalty = {
						estate = estate_burghers
						loyalty = 55
					}
					NOT = {
						estate_influence = {
							estate = estate_burghers
							influence = 40
						}
					}
				}
			}
			if = {
				limit = {
					has_estate = estate_church
				}
				OR = {
					estate_loyalty = {
						estate = estate_church
						loyalty = 55
					}
					NOT = {
						estate_influence = {
							estate = estate_church
							influence = 40
						}
					}
				}
			}
			if = {
				limit = {
					has_estate = estate_nobles
				}
				OR = {
					estate_loyalty = {
						estate = estate_nobles
						loyalty = 55
					}
					NOT = {
						estate_influence = {
							estate = estate_nobles
							influence = 40
						}
					}
				}
			}
		}
		effect = {
			add_country_modifier  = {
				name = WES_progressive_society
				duration = 10950
			}
		}
	}
	
	WES_patrimonial_courts = {
		icon = counter_reformation
		required_missions = { WES_serfdom WES_reform_the_administration WES_all_are_equal_before_law }
		position = 11
		trigger = {
			NOT = {
				average_autonomy_above_min = 5 
			}
		}
		effect = {
			country_event = { id = ME_Westphalian_Events.8 }
		}
	}
}
	
WES_missions_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = WES
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	WES_eastphalia = {
		icon = mission_eastern_european_city
		required_missions = { WES_westphalia }
		position = 6
		provinces_to_highlight = {
			OR = {
				area = lower_saxony_area
				area = braunschweig_area
				province_id = 54
				province_id = 4771
				province_id = 1874
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = lower_saxony_area
					area = braunschweig_area
					province_id = 54
					province_id = 4771
					province_id = 1874
				}
				value = 8
			}
		}
		effect = {
			
			mittelmark_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			vorpommern_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			mecklenburg_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			south_saxony_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			thuringia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			northern_saxony_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	WES_saxony = {
		icon = mission_eastern_european_city
		required_missions = { WES_eastphalia }
		position = 7
		provinces_to_highlight = {
			OR = {
				area = mecklenburg_area
				area = northern_saxony_area
				area = thuringia_area
				area = south_saxony_area
				area = mittelmark_area
				area = vorpommern_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = mecklenburg_area
					area = northern_saxony_area
					area = thuringia_area
					area = south_saxony_area
					area = mittelmark_area
					area = vorpommern_area
				}
				value = 10
			}
		}
		effect = {
			hinter_pommern_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			neumark_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			east_prussia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			west_prussia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	
	WES_reform_the_state = {
		icon = reform_the_state
		required_missions = { }
		position = 8
		trigger = {
			has_adm_advisor_3 = yes
			NOT = { average_autonomy_above_min = 30 }
		}
		effect = {
			add_country_modifier = {
				name = WES_reformer
				duration = -1
			}
			custom_tooltip = WES_if_we_have_good_relations_with_a_french_nation
			tooltip = {
				define_advisor = {
					type = philosopher
					culture = francien
					religion = ROOT
					cost_multiplier = 0.5
					skill = 1
				}
			}
		}
	}
	
	WES_reform_the_administration = {
		icon = consolidate_switzerland
		required_missions = { WES_reform_the_state }
		position = 10
		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				AND = {
					NOT = { local_autonomy = 5 }
					ROOT = {
						NOT = {	
							development_in_provinces = {
								NOT = { local_autonomy = 5 }
								value = 150
							}
						}
					}
				}
				AND = {
					local_autonomy_above_min = 20
					ROOT = { average_autonomy_above_min = 20 }
				}
			}
		}
		trigger = {
			development_in_provinces = {
				NOT = { local_autonomy = 5 }
				value = 150
			}
			NOT = { average_autonomy_above_min = 20 }
		}
		effect = {
			add_country_modifier = {
				name = WES_reform_progress
				duration = 9125
			}
			custom_tooltip = WES_for_every_province
			hidden_effect = {
				if = {
					limit = {
						num_of_owned_provinces_with = {
							has_courthouse_building_trigger = yes
							value = 20
						}
					}
					change_government_reform_progress = 100
				}
				else = {
					every_owned_province = {
						limit = {
							has_courthouse_building_trigger = yes
						}
						ROOT = { change_government_reform_progress = 5 }
					}
				}
			}
		}
	}
	
	WES_modern = {
		icon = geneva_conventions
		required_missions = { WES_reform_the_administration WES_parliament_2 WES_patrimonial_courts }
		position = 12
		trigger = {
			NOT = { average_autonomy_above_min = 5 }
			
		}
		effect = {
			add_country_modifier = {
				name = WES_a_modern_state
				duration = -1
			}
		}
	}
}

WES_missions_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = WES
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	WES_dialogue = {
		icon = catholic_confraternity
		required_missions = { WES_legacy_of_two_ewalds }
		position = 7
		trigger = {
			calc_true_if = {
				all_country = {
					NOT = { religion = ROOT }
					has_opinion = {
						who = ROOT
						amount = 150
					}
				}
				amount = 5
			}
		}
		effect = {
			country_event = { id = ME_Westphalian_Events.4 }
		}
	}
	
	WES_egality = {
		icon = immaculate_government
		required_missions = { WES_reform_the_state }
		position = 9
		trigger = {
			OR = {
				num_accepted_cultures = 4
				num_of_owned_provinces_with = {
					has_owner_accepted_culture = yes
					value = 20
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = WES_equal_opportunities
				duration = -1
			}
			custom_tooltip = WES_invite_foreign_experts
			#may take decision to invite foreign experts
		}
	}
	
	WES_parliament_2 = {
		icon = regents_contracts
		required_missions = { WES_egality WES_tolerance WES_reform_the_administration }
		position = 11
		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				NOT = { development = 30 }
				NOT = { num_of_times_improved = 5 }
			}
		}
		trigger = {
			num_of_owned_provinces_with = {
				development = 30
				num_of_times_improved = 5
				value = 5 
			}
		}
		effect = {
			country_event = { id = ME_Westphalian_Events.6 } #Become Parliamentary
		}
	}
}

WES_missions_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = WES
		has_country_flag = use_missions_expanded_missions_instead_of_paradox
	}
	has_country_shield = yes
	
	WES_legacy_of_two_ewalds = {
		icon = spread_piety
		required_missions = { }
		position = 6
		trigger = {
			num_of_owned_provinces_with = {
				has_tax_building_trigger = yes
				value = 10
			}
		}
		effect = {
			add_country_modifier = {
				name = WES_ewalds
				duration = 10950
			}
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 5
			}
		}
	}
	
	WES_unity = {
		icon = subiaco_press
		required_missions = { WES_legacy_of_two_ewalds WES_dialogue }
		position = 8
		trigger = {
			religious_unity = 0.9
		}
		effect = {
		}
	}
	
	WES_tolerance = {
		icon = personal_diplomacy
		required_missions = { WES_egality }
		position = 10
		trigger = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = WES_tther_tooltip
					has_global_modifier_value = {
						which = tolerance_heretic
						value = 0 
					}
				}
				custom_trigger_tooltip = {
					tooltip = WES_tthea_tooltip
					has_global_modifier_value = {
						which = tolerance_heathen
						value = 0 
					}
				}
				num_of_owned_provinces_with = {
					NOT = { has_owner_religion = yes }
					NOT = { local_autonomy = 10 }
					NOT = { unrest = -2 }
				}
			}
		}
		effect = {
			country_event = { id = ME_Prussia_Events.32 } #This or a new one, idk yet
		}
	}
}