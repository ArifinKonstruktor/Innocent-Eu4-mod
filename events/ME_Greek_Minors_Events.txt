namespace = ME_Greek_Minors_Events

country_event = {
	id = ME_Greek_Minors_Events.1
	title = ME_Greek_Minors_Events.1.t
	desc = ME_Greek_Minors_Events.1.d
	picture = xxx_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ME_Greek_Minors_Events.1.a
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 0
				
				has_country_flag = greek_crusaders_missions
			}
		}
		
		if = {
			limit = { has_country_flag = greek_crusaders_missions }
			
			change_primary_culture = greek
			change_religion = orthodox
			clr_country_flag = greek_crusaders_missions
			set_country_flag = greek_minors_missions
			swap_non_generic_missions = yes
			complete_mission = greek_minors_agonas
			complete_mission = greek_minors_supremacy
			
			hidden_effect = {
				set_variable = { which = num_of_won_battles value = 0 }
				set_variable = { which = num_of_lost_battles value = 0 }
			}
		}
		else = {
			clr_country_flag = greek_minors_missions
			custom_tooltip = ME_Greek_Minors_Events.1.tt
		}
	}
	
	option = {
		name = ME_Greek_Minors_Events.1.b
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 0
				
				has_country_flag = greek_minors_missions
			}
		}
		
		if = {
			limit = { has_country_flag = greek_minors_missions }
			
			change_religion = catholic
			
			if = {
				limit = {
					NOT = { culture_group = latin }
				}
				change_primary_culture = tuscan
			}
			
			clr_country_flag = greek_minors_missions
			set_country_flag = greek_crusaders_missions
			swap_non_generic_missions = yes
			complete_mission = greek_crusaders_supremacy
		}
		else = {
			clr_country_flag = greek_crusaders_missions
			custom_tooltip = ME_Greek_Minors_Events.1.tt
		}
	}
}

country_event = {
	id = ME_Greek_Minors_Events.2
	title = ME_Greek_Minors_Events.2.t
	desc = ME_Greek_Minors_Events.2.d
	picture = xxx_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ME_Greek_Minors_Events.2.a
		
		ai_chance = { factor = 0 }
		
		change_government = monarchy
		add_government_reform = feudalism_reform
	}
	
	option = {
		name = ME_Greek_Minors_Events.2.b
		
		ai_chance = { factor = 0 }
		
		change_government = republic
		add_government_reform = oligarchy_reform
	}
	
	option = {
		name = ME_Greek_Minors_Events.2.c
		
		ai_chance = { factor = 1 }
		
		add_stability_or_adm_power = yes
	}
}

country_event = {
	id = ME_Greek_Minors_Events.3
	title = ME_Greek_Minors_Events.3.t
	desc = ME_Greek_Minors_Events.3.d
	picture = xxx_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ME_Greek_Minors_Events.3.a
		
		add_country_modifier = {
			name = greek_minors_west
			duration = -1 #Modifier goes away if you formed anyone else other than Greece
		}
	}
	
	option = {
		name = ME_Greek_Minors_Events.3.b
		
		add_country_modifier = {
			name = greek_minors_warfare
			duration = -1 #Modifier goes away if you formed anyone else other than Greece
		}
	}
}

country_event = {
	id = ME_Greek_Minors_Events.4
	title = ME_Greek_Minors_Events.4.t
	desc = ME_Greek_Minors_Events.4.d
	picture = xxx_eventPicture
	hidden = yes
	
	trigger = {
		OR = {
			has_country_modifier = greek_minors_west
			has_country_modifier = greek_minors_warfare
		}
		NOT = { mission_completed = greek_minors_army }
		NOT = { tag = GRE }
	}
	
	immediate = {
		remove_country_modifier = greek_minors_west
		remove_country_modifier = greek_minors_warfare
	}
	
	option = { }
}

country_event = {
	id = ME_Greek_Minors_Events.5
	title = ME_Greek_Minors_Events.5.t
	desc = ME_Greek_Minors_Events.5.d
	picture = xxx_eventPicture
	hidden = yes
	
	trigger = {
		has_country_modifier = greek_minors_prelude
		NOT = { mission_completed = greek_minors_fleet }
		NOT = { tag = GRE }
	}
	
	immediate = { remove_country_modifier = greek_minors_prelude }
	
	option = { }
}

country_event = {
	id = ME_Greek_Minors_Events.6
	title = ME_Greek_Minors_Events.6.t
	desc = ME_Greek_Minors_Events.6.d
	picture = xxx_eventPicture
	hidden = yes
	
	trigger = {
		has_country_modifier = greek_minors_forces
		NOT = { mission_completed = greek_minors_klephts }
		NOT = { tag = GRE }
	}
	
	immediate = { remove_country_modifier = greek_minors_forces }
	
	option = { }
}
