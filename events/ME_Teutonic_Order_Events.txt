namespace = ME_Teutonic_Order_Events

country_event = {
	id = ME_Teutonic_Order_Events.1
	title = ME_Teutonic_Order_Events.1.t
	desc = ME_Teutonic_Order_Events.1.d
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	major = yes
	major_trigger = {
		continent = europe
	}
		
	option = {
		name = ME_Teutonic_Order_Events.1.a
		
		ai_chance = { factor = 1 }
	
		add_country_modifier = {
			name = TEU_grunwald
			duration = 7300
		}
		create_general = { tradition = 50 }
	}
}

country_event = {
	id = ME_Teutonic_Order_Events.2
	title = ME_Teutonic_Order_Events.2.t
	desc = ME_Teutonic_Order_Events.2.d
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = ME_Teutonic_Order_Events.2.a
		
		ai_chance = { factor = 1 }
	
		set_country_flag = TEU_global_deal_1
		custom_tooltip = TEU_this_will_come_into_effect
		tooltip = {
			41 = {
				add_trade_modifier = {
					who = ROOT
					duration = 10950
					power = 15
					key = TEU_trade_deal
				}
				add_trade_modifier = {
					who = HSA
					duration = 10950
					power = 15
					key = TEU_trade_deal
				}
			}
		}
		
		HSA = {
			country_event = { id = ME_Teutonic_Order_Events.3 days = 30 }
		}
	}
	
	option = {
		name = ME_Teutonic_Order_Events.2.b
		
		ai_chance = { factor = 1 }
	
		set_country_flag = TEU_global_deal_2
		custom_tooltip = TEU_this_will_come_into_effect
		tooltip = {
			41 = {
				add_trade_modifier = {
					who = HSA
					duration = 10950
					power = 25
					key = TEU_trade_deal
				}
			}
			41 = {
				if = {
					limit = {
						country_or_non_sovereign_subject_holds = ROOT
					}
					add_province_modifier = {
						name = TEU_amber_rights
						duration = 10950
					}
				}
			}
			43 = {
				if = {
					limit = {
						country_or_non_sovereign_subject_holds = ROOT
					}
					add_province_modifier = {
						name = TEU_amber_rights
						duration = 10950
					}
				}
			}
		}
		
		HSA = {
			country_event = { id = ME_Teutonic_Order_Events.3 days = 30 }
		}
	}
	
	option = {
		name = ME_Teutonic_Order_Events.2.c
		
		ai_chance = { factor = 1 }
	
		set_country_flag = TEU_global_deal_3
		add_treasury = -50
		HSA = {
			add_treasury = 50
		}
		custom_tooltip = TEU_get_5_light_ships_in_a_random_province
		
		HSA = {
			country_event = { id = ME_Teutonic_Order_Events.3 days = 30 }
		}
	}
	
	option = {
		name = ME_Teutonic_Order_Events.2.e
		
		ai_chance = { factor = 0 }
	
		add_prestige_or_monarch_power = { amount = 20 }
	}
}

country_event = {
	id = ME_Teutonic_Order_Events.3
	title = ME_Teutonic_Order_Events.3.t
	desc = ME_Teutonic_Order_Events.3.d
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	major = yes
	major_trigger = {
		OR = {
			has_country_flag = TEU_global_deal_1
			has_country_flag = TEU_global_deal_2
			has_country_flag = TEU_global_deal_3
		}
	}
	
	option = {
		name = ME_Teutonic_Order_Events.3.a
		
		ai_chance = { factor = 1 }
	
		if = {
			limit = {
				FROM = {
					has_country_flag = TEU_global_deal_1
				}
			}
			41 = {
				add_trade_modifier = {
					who = FROM
					duration = 10950
					power = 15
					key = TEU_trade_deal
				}
				add_trade_modifier = {
					who = ROOT
					duration = 10950
					power = 15
					key = TEU_trade_deal
				}
			}
		}
		else_if = {
			limit = {
				FROM = {
					has_country_flag = TEU_global_deal_2
				}
			}
			41 = {
				add_trade_modifier = {
					who = ROOT
					duration = 10950
					power = 25
					key = TEU_trade_deal
				}
			}
			41 = {
				if = {
					limit = {
						country_or_non_sovereign_subject_holds = FROM
					}
					add_province_modifier = {
						name = TEU_amber_rights
						duration = 10950
					}
				}
			}
			43 = {
				if = {
					limit = {
						country_or_non_sovereign_subject_holds = FROM
					}
					add_province_modifier = {
						name = TEU_amber_rights
						duration = 10950
					}
				}
			}
		}
		else_if = {
			limit = {
				FROM = {
					has_country_flag = TEU_global_deal_3
				}
			}
			add_treasury = 50
			FROM = {
				add_treasury = 50
				custom_tooltip = TEU_get_5_light_ships_in_a_random_province
			}
		}
	}
	
	option = {
		name = ME_Teutonic_Order_Events.3.b
		
		ai_chance = { factor = 0 }
	
		FROM = {
			add_prestige_or_monarch_power = { amount = 20 }
		}
		add_adm_power = 25
		add_dip_power = 25
		add_mil_power = 25
	}
}